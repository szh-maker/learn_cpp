# 推导规则

1. 如果 auto 声明的变量是按值初始化，则推导出的类型会忽略 cv 限定符。在使用 auto 声明变量时，既没有使用引用，也没有使用指针，那么编译器在推导的时候会忽略 const 和 volatile 限定符。当然 auto 本身也支持添加 cv 限定符。

2. 使用 auto 声明变量初始化时，目标对象如果是引用，则引用属性会被忽略。

3. 使用 auto 和万能引用声明变量时，对于左值会将 auto 推导为引用类型。

4. 使用 auto 声明变量，如果目标对象是一个数组或者函数，则 auto 会被推导为对应的指针类型。

   ```c++
   int array[5];
   auto m = array;	// auto 推导类型为 int*
   int sum(int a, int b) {
       return a * b;
   }
   auto j = sum;	// auto 推导为 int(*)(int, int)
   ```

5. 当 auto 关键字与列表初始化组合时，这里的规则有新旧两个版本，这里介绍新规则（C++17 标准）

   （1）直接使用列表初始化，列表中必须为单元素，否则无法编译，auto 类型被推导为单元素的类型。

   （2）用等号加列表初始化，列表中可以包含单个或者多个元素，`auto 类型被推导为 std::initializer_list<T>`，其中 T 是元素类型。请注意，在列表中包含多个元素的时候，元素的类型必须相同，否则编译器会报错。